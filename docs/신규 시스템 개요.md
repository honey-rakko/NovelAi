* 캐릭터 위주의 웹소설을 LLM을 이용해 생성하기 위한 시스템
# 핵심아이디어
* 점진적으로 작성해 나가기 위해 시뮬레이션 게임에 영감 받아 구상됨. 
	* 핵심은 ‘성격 및 특성이 구체화된 캐릭터들’이 ‘대략적인 이야기 방향’이 정해 졌을 때 해당 정보들로 한화 한화 ‘시뮬레이션’ 하며 업데이트 하는 방식.
	* 한화가 작성되면 '캐릭터들'을 이야기의 진행에 따라 업데이트하여 정보 관리 (CharacterNetwork)
	* 특정 시점에 진행될 이야기를 ‘대략적인 이야기 방향’을 보고 즉석에서 만들어서 진행 (Plot)
* 웹 소설은 1화에 5000자이며 일반적으로 200화 이상 작성되어야 함 → LLM의 Context Window 문제를 해결하기 위해 작성된 정보를 잘 관리가 필수
	* CharacterNetwork 형태의 ‘캐릭터 풀’ 구조를 통해 특정 화 작성에 필요한 정보들만 선별적으로 이용 (1화에 등장하는 인물과 관련된 노드의 정보만 활용)
	* Plot 형태의 ‘이야기 방향’을 통해 디테일한 모든 플롯에 대한 정보 없이 한화 이야기를 작성
# 시스템 구성
## Stage 0
유저가 원하는 이야기 기본 설정 입력
## Stage 1 - 핵심 구조 설계 (장르/세계관 독립적)
* 현재 단계에서 생성되는 모든 것들은 이야기를 특정짓지 않도록 작성되어야 함
	* 생성되는 캐릭터들은 이름이 없고 역할만 존재
	* 생성되는 사건도 해석의 여지가 세계관 혹은 장르에 따라 쉽게 변형 될 수 있어야 함
### 만들어야 하는 것
1. 초기 캐릭터 네트워크 (CharacterNetwork) 생성
	* 성격 및 특징이 구체화된 캐릭터 풀. 상태창으로 이용 됨
		* Character: 주제의식을 표현하기 위해 필요한 역할 (Role)을 가진 캐릭터
		* Info: 위 역할의 캐릭터가 가질 수 있는 욕구, 두려움, 가치관, 트라우마 등 (장르/세계관 무관)
		* Event: Info가 나타나게 된 원인 사건으로 Plot과 무관한 과거에 일어난 일들
		* PlaceHolder: Event에 등장하는 미확정 인물. 괄호 형식 "(역할)"로 표현
	* CharacterNetwork 구조 생성 프로세스 (반복 구조)
		1. 역할 정의 → 캐릭터 생성 (Character + Info)
		2. Info마다 Event 생성 (Event에 PlaceHolder 포함)
		3. Consolidation: 유사한 PlaceHolder들을 통합
		4. PlaceHolder Replace: 통합된 PlaceHolder에 Info 부여 후 Character로 전환
		5. 2-4 단계 반복 (max_iterations까지)
2. 전체 플롯 뼈대 (Plot) 생성
	- 시작-중간-결말의 큰 흐름
		- Macro Cliffhanger가 포함되어야 함
		- 개별 Plot에는 핵심 인물들의 목록도 포함되어야 함. 이야기 진행에 적합한 인물이 CharacterNetwork에 없다면, 이를 생성해야 함
	- Macro Cliffhanger의 정의
		- 전체 서사 구조에 영향: 단순히 한 에피소드나 챕터의 끝이 아닌, 전체 시리즈나 이야기의 주요 플롯 라인에 영향을 미치는 미해결 상황
		- 장기적 긴장감: 여러 에피소드, 시즌, 또는 책 시리즈 전체에 걸쳐 지속되는 큰 규모의 미스터리나 갈등
		- 주요 스토리 아크와 연결: 부차적인 플롯이 아닌 메인 스토리의 핵심과 직접적으로 연결된 중요한 전환점

### CharacterNetwork 구조의 핵심 개념
#### PlaceHolder와 Consolidation
* **PlaceHolder의 목적**
	- Event 생성시 중심 캐릭터 외에 필요한 조연/주변 인물을 미확정 상태로 표현
	- 장르/세계관 독립성 유지: "(믿었던 동료)", "(엄격한 스승)" 등 추상적 역할
* **Consolidation 단계**
	- 여러 Event에서 생성된 PlaceHolder 중 유사한 역할을 그룹화
	- 예: "(엄격한 아버지)", "(권위적인 부모)" → "(권위적인 조언자)"로 통합
	- 캐릭터 풀 관리: 불필요한 중복 캐릭터 생성 방지
* **PlaceHolder Replace 단계**
	- 통합된 PlaceHolder를 실제 캐릭터로 전환
	- 연결된 Event들의 맥락을 기반으로 Info 생성
	- PlaceHolder 노드 제거하고 Character 노드로 교체

#### 반복 구조의 의미
* **첫 번째 iteration (initial)**
	- 주제에서 핵심 역할 정의 → 메인 캐릭터 생성
	- 각 캐릭터의 Info에 대한 Event 생성
	- PlaceHolder 발견 및 Consolidation
* **두 번째 이후 iteration (expansion)**
	- 이전 iteration의 PlaceHolder를 Character로 전환
	- 새로 생성된 Character의 Info에 대한 Event 생성
	- 다시 PlaceHolder 발견 및 Consolidation
* **점진적 확장**: 핵심에서 주변으로 캐릭터 풀이 자연스럽게 확장

#### CharacterNetwork의 시간성: Prenarrative 원칙
* **핵심 철학: CharacterNetwork는 항상 현재 작성 시점 이전의 정보 (Prenarrative)**
	- CharacterNetwork = 이야기 작성 시점에서 "이미 일어난 과거"만 포함
	- Event 노드는 "과거 사건", Info는 "과거 경험으로 형성된 속성"
* **Stage 1에서의 의미**
	- 생성되는 모든 Event = Plot 시작 이전의 추상적 과거사
	- 캐릭터들의 초기 상태 (욕구, 트라우마 등)를 설명하는 배경
* **Stage 3 화 작성 시**
	- 작성 전: CharacterNetwork = 1화부터 N-1화까지의 모든 과거 정보
	- N화 작성: CharacterNetwork의 정보를 참조하여 현재 시점 스토리 생성
	- 작성 후: N화에서 발생한 사건 → CharacterNetwork에 Event로 추가
	- N+1화 입장: N화의 사건도 "과거"가 됨
* **Stage 2 재진입 시 (새 Plot 구간 설계)**
	- 새 캐릭터 필요 시: 반드시 Character + Info + Event 구조로 추가
		- 단순히 "이름만 있는 캐릭터" 추가 금지
		- 새 캐릭터의 Event = 현재 스토리 시점 이전의 과거사
	- 기존 캐릭터 활용 시: CharacterNetwork에서 해당 캐릭터의 과거 정보 참조
* **시간적 일관성 보장**
	- CharacterNetwork = "무엇이 이미 일어났는가"의 단일 진실 원천 (Single Source of Truth)
	- 200화 이상의 장편에서도 모든 화가 동일한 과거 정보 기반으로 작성
	- 캐릭터 상태 변화 추적: 화마다 업데이트된 CharacterNetwork로 일관성 유지

### Stage 2 - 점진적 구체화 (장 단위 반복 실행)
* 여기서 생성하는 결과들은 세계관에 걸맞게 구체화 되어야함
	* 앞서 생성한 CharacterNetwork에서 캐릭터의 이름과 관련된 모든 정보들을 장르/세계관에 맞게 구체화 해야 함
	* 앞서 생성한 Plot을 보고 세부 이야기를 작성해야하며, 세부 이야기 작성에 사용한 Plot의 이야기도 장르/세계관에 맞게 구체화 해야 함
* 왠만하면 기존 상태창인 CharacterNetwork에 새로운 노드를 추가하기 보단 정보를 구체화

### 만들어야 하는 것
1. CharacterNetwork의 정보 구체화
	- SF/판타지/무협 등 장르에 걸맞게 관련 정보를 구체화. 
		- 단 모든 노드를 구체화 하지 않고 다음 단계에서 사용할 노드들만 구체화 함
		- 추상 요소를 세계관에 맞게 변환. Ex) 사이퍼펑크의 경우: ‘억압하는 자’ → ‘거대 기업’
2. 현재 구간 상세 플롯
	- 추상 사건을 구체적 사건으로 변환하고, 다음 전환점으로 가기 위한 세부 시놉시스 생성
		- 캐릭터 네트워크에 이야기 진행에 적합한 인물이 없는 경우 새로 생성
		- Micro CliffHanger가 포함되어야 함
	- Micro Cliffhanger의 정의
		- 국소적 영향: 전체 스토리 아크보다는 즉각적인 장면이나 시퀀스에 영향을 미치는 작은 규모의 긴장감
		- 단기적 긴장감: 보통 다음 장면, 다음 챕터, 또는 같은 에피소드 내에서 해결되는 짧은 서스펜스
		- 페이지 터너 효과: 독자나 시청자가 "바로 다음에 무슨 일이?"라고 궁금해하며 계속 읽거나 시청하게 만드는 즉각적 훅(hook)
3. CharacterNetwork 구체화
	- 추상 속성 → 세계관 맞춤 구체화
	- 사건 태그 업데이트 (미래→현재/과거)

### Stage 3 서사 생성 (화 단위 반복 실행)

1. 문체/서술 스타일 결정
	- 시점, 문체, 톤 설정
2. 1화 분량 이야기 설계와 실제 작성 (Micro Hook)
	- CharacterNetwork 참조하여 일관성 유지
	- 플롯 사건 실행
3. CharacterNetwork 업데이트
	- 발생한 사건 반영 (플롯→그래프 전환)
	- 캐릭터 상태/관계 변화 기록
	- 새로운 요소 추가
### 반복 프로세스
- Stage 2와 Stage 3를 반복하며 다음 구간 생성
- CharacterNetwork가 지속적으로 업데이트되며 일관성 유지
- 100화까지 점진적 생성

**핵심 차이점**: 전체를 한번에 설계하지 않고, 큰 틀만 잡은 후 점진적으로 구체화하며 state 관리를 통해 일관성 유지