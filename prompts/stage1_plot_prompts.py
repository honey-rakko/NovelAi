"""
Stage 1 플롯 생성 전용 프롬프트 템플릿
"""

# ============ Step 1: 그래프 분석 및 양극 설정 ============
NARRATIVE_POLES_PROMPT = """
# 역할: 서사 구조 설계 전문가

당신은 200화 이상 장편 웹소설의 서사적 양극(narrative poles)을 설계하는 전문가입니다.
캐릭터 네트워크를 분석하여 강력한 시작점과 종착점을 설정해야 합니다.

## 입력 정보
주제의식: {topic}
장르 내재 갈등: {conflict}
핵심 분위기: {vibe}

### 캐릭터 네트워크 구조
{character_network_analysis}

---

## 서사적 양극 설계 프레임워크

### 1단계: 캐릭터 분석을 통한 핵심 축 발견

**주연 캐릭터들의 Desire/Fear 매핑**
- 각 주연의 desire를 추출하여 공통 지향점 파악
- 각 주연의 fear를 추출하여 공통 회피점 파악
- desire와 fear의 교집합에서 서사의 핵심 동력 발견

**관계망 분석**
- 캐릭터 간 긴장 관계에서 잠재적 충돌 지점 식별
- Event 노드에서 반복되는 패턴 분석
- PlaceHolder들이 암시하는 미래 갈등 예측

### 2단계: 출발점(Starting Point) 정의

**원칙: 결핍과 정체의 상태**
출발점은 반드시 다음을 포함해야 함:
1. 주연들이 갈망하지만 얻지 못한 것 (결핍)
2. 변화를 원하지만 움직이지 못하는 이유 (정체)
3. 표면적 안정 속의 잠재된 불안 (긴장)

**설계 공식**
출발점 = f(주연_desires의 반전, 세계_vibe의 극대화, 갈등_미발현 상태)

예시:
- desire: "진실을 알고자 하는 열망" → 출발점: "거짓된 평화 속에서 진실이 은폐된 세계"
- desire: "자유를 얻고자 하는 갈망" → 출발점: "안전하지만 억압적인 시스템 속의 삶"

### 3단계: 종착점(Ending Point) 정의

**원칙: 수미상관 구조의 변주**
종착점은 출발점을 뒤집되, 단순 반전이 아닌 나선형 상승:
1. 출발점의 결핍이 채워짐 (혹은 무의미해짐)
2. 정체가 파괴되고 새로운 균형 도달
3. 주제의식이 캐릭터의 변화로 증명됨

**설계 공식**
종착점 = f(주제_완성, 주연_성장의 귀결, 출발점의 변증법적 극복)

**수미상관 패턴**
- 회귀형: 같은 장소/상황이지만 완전히 다른 의미
- 역전형: 정반대 상황이지만 동일한 본질
- 초월형: 출발점의 이분법을 넘어선 제3의 지점

### 4단계: 양극 사이의 장력(Tension) 검증

**거리 측정**
- 심리적 거리: 캐릭터가 극복해야 할 내적 변화의 크기
- 물리적 거리: 실제로 일어나야 할 사건의 규모
- 시간적 거리: 변화에 필요한 과정의 복잡도

**200화 지속가능성 체크**
□ 출발점에서 종착점까지 충분히 먼가?
□ 중간에 다양한 변주가 가능한가?
□ 독자가 끝까지 궁금해할 만한가?

---

## 출력 형식

### 1. 캐릭터 분석 요약
- 주연들의 핵심 Desire/Fear 정리
- 발견된 공통 패턴과 대립 구조
- 서사 진행의 핵심 동력

### 2. 출발점 (Starting Point)
- **상태 묘사**: 세계와 캐릭터들의 초기 상태 (2-3문장)
- **결핍 요소**: 무엇이 부족한가
- **정체 이유**: 왜 변화가 일어나지 않는가
- **잠재 긴장**: 균열의 징조

### 3. 종착점 (Ending Point)
- **상태 묘사**: 최종적으로 도달할 상태 (2-3문장)
- **변화 내용**: 무엇이 어떻게 바뀌었는가
- **주제 완성**: 주제의식이 어떻게 증명되는가
- **수미상관**: 출발점과의 관계

### 4. 서사적 장력 평가
- **변화의 크기**: 얼마나 큰 변화인가 (1-10점)
- **복잡도**: 과정이 얼마나 복잡한가 (1-10점)
- **감정 진폭**: 독자가 경험할 감정의 범위 (1-10점)
- **지속가능성**: 200화 이상 가능한가 (가능/불가능 + 이유)

---

## 품질 체크리스트

□ 출발점이 정말 '결핍'과 '정체'를 담고 있는가?
□ 종착점이 단순 해피엔딩이 아닌 '변증법적 극복'인가?
□ 캐릭터들의 desire/fear가 양극 설정에 반영되었는가?
□ 주제의식이 양극의 변화를 통해 탐구되는가?
□ 200화를 지탱할 만한 충분한 거리와 복잡도가 있는가?
"""

# ============ Step 2: Sub-theme 할당 ============
SUB_THEME_SELECTION_PROMPT = """
# 역할: 주제 레이어링 전문가

당신은 장편 서사의 각 Act에 적합한 sub-theme을 선정하는 전문가입니다.
Core theme을 보완하거나 긴장 관계를 형성하는 sub-theme을 전략적으로 배치해야 합니다.

## 입력 정보
Core Theme: {topic}
장르 내재 갈등: {conflict}
핵심 분위기: {vibe}

서사적 양극:
- 출발점: {starting_point}
- 종착점: {ending_point}

주연 캐릭터 정보:
{main_characters_summary}

## 가능한 Sub-theme 목록
{theme_list}

---

## Sub-theme 선정 프레임워크

### 선정 기준 (우선순위 순)

#### 1. 주제적 상호작용 (40%)
**보완 관계**
- Core theme이 던지는 질문에 다른 각도의 답변 제시
- Core theme의 빈 공간을 채우는 관련 주제
예: Core "권력의 본질" → Sub "책임의 무게"

**긴장 관계**
- Core theme과 철학적 충돌을 일으키는 주제
- 양립하기 어려운 가치관의 대립
예: Core "자유의 의미" → Sub "질서의 필요성"

#### 2. 캐릭터 자극도 (30%)
**Desire 자극**
- 캐릭터의 욕망을 시험하는 상황 생성
- 욕망 추구의 대가를 묻는 딜레마

**Fear 직면**
- 캐릭터가 두려워하는 것과 마주하게 함
- 회피하던 진실을 드러내는 계기

**내적 갈등 극대화**
- Desire와 Fear 사이에서 선택 강요
- 가치관의 충돌 상황 조성

#### 3. 분위기 다이나믹스 (30%)
**강화 전략**
- Vibe와 같은 방향으로 감정 증폭
- 분위기의 극한까지 밀어붙임
예: Vibe "절망적" + Sub-theme "삶과 죽음의 의미"

**대비 전략**
- Vibe와 정반대로 아이러니 생성
- 대조를 통한 깊이 있는 정서
예: Vibe "어두움" + Sub-theme "순수한 희망"

### Act별 배치 전략

#### Act 1 Sub-theme
**목적**: 세계관 확립과 초기 갈등 제시
- Core theme의 첫 번째 층위 탐구
- 캐릭터들의 초기 입장 확립
- 독자를 세계로 끌어들이는 훅

**선정 방향**:
- Core theme과 직접 연결되면서도 접근하기 쉬운 주제
- 출발점의 '정체' 상태를 설명하는 주제

#### Act 2 Sub-theme
**목적**: 복잡성 증가와 중간 전환점
- Core theme의 모순과 역설 탐구
- 캐릭터들의 신념 동요
- 예상치 못한 관점 제시

**선정 방향**:
- Core theme과 긴장/충돌하는 주제
- 캐릭터의 내적 갈등을 극대화하는 주제

#### Act 3 Sub-theme
**목적**: 클라이맥스와 주제 통합
- 모든 주제를 아우르는 상위 관점
- 캐릭터들의 최종 선택
- 새로운 균형점 도달

**선정 방향**:
- Core theme과 이전 sub-theme들을 통합하는 주제
- 종착점으로의 변화를 뒷받침하는 주제

---

## 선정 프로세스

### Step 1: 후보군 도출 (각 Act당 3-5개)
theme_list에서 각 기준별 점수 산출:
- 주제적 상호작용: 0-40점
- 캐릭터 자극도: 0-30점
- 분위기 다이나믹스: 0-30점

### Step 2: Act별 최적 조합 선택
- Act 간 진행감과 변화 고려
- 반복 회피 (유사 주제 연속 배치 금지)
- 난이도 곡선 (점진적 심화)

### Step 3: 시너지 검증
- 3개 sub-theme이 함께 작동할 때의 효과
- Core theme과의 전체적 조화
- 200화 서사를 위한 충분한 다양성

---

## 출력 형식

### Act 1 Sub-theme
- **선정 주제**: [theme_list에서 선택한 주제]
- **선정 이유**: 
  - 주제적 관계: [Core theme과 어떤 관계인지]
  - 캐릭터 영향: [어떤 Desire/Fear를 자극하는지]
  - 분위기 효과: [Vibe를 어떻게 활용하는지]
- **예상 서사 효과**: [이 주제가 Act 1에서 만들 갈등/상황]

### Act 2 Sub-theme
[동일 형식]

### Act 3 Sub-theme
[동일 형식]

### 전체 주제 구조도
```
Core Theme: {topic}
    ├─ Act 1: [sub-theme 1] - [관계 설명]
    ├─ Act 2: [sub-theme 2] - [관계 설명]
    └─ Act 3: [sub-theme 3] - [관계 설명]
```

### 주제 진행 시너지
- Act 1 → Act 2: [어떤 변화/심화]
- Act 2 → Act 3: [어떤 변화/심화]
- 전체 통합 효과: [3개 sub-theme이 Core theme을 어떻게 완성하는지]
"""

# ============ Step 3: 기폭 사건 및 Macro Cliffhanger 생성 ============
INCITING_INCIDENT_AND_MACRO_CLIFFHANGERS_PROMPT = """
# 역할: 서사 긴장 설계 전문가

당신은 독자를 200화까지 붙잡을 강력한 초반 훅과 장기적 긴장 구조를 설계하는 전문가입니다.

## 입력 정보
주제의식: {topic}
장르 내재 갈등: {conflict}
핵심 분위기: {vibe}

서사적 양극:
- 출발점: {starting_point}
- 종착점: {ending_point}

Act별 Sub-theme:
{sub_themes}

캐릭터 네트워크 분석:
{character_conflict_analysis}

---

## Part 1: 기폭 사건 (Inciting Incident) 설계

### 기폭 사건의 필수 요소

#### 1. 파괴력 (Disruptive Force)
- 출발점의 '정체 상태'를 산산조각 내는 사건
- 되돌릴 수 없는 변화의 시작
- 모든 캐릭터가 반응할 수밖에 없는 충격

#### 2. 주제 질문 투척 (Thematic Question)
기폭 사건은 반드시 주제를 '질문 형태'로 변환해야 함:
- Topic "권력의 본질" → "권력은 정말 필요악인가?"
- Topic "희망의 의미" → "절망적 상황에서도 희망을 가져야 하는가?"

이 질문은 주인공이 200화에 걸쳐 답을 찾아가는 여정

#### 3. 웹소설 초반 훅 (First Chapter Hook)
**즉각적 긴장감**
- 첫 문장부터 독자를 끌어당기는 상황
- '왜?'라는 궁금증 즉시 유발
- 감정적 몰입 강제

**장르별 훅 전략** (추상적 표현)
- 미스터리형: "(알 수 없는 존재)의 갑작스러운 등장"
- 생존형: "안전했던 공간의 급격한 붕괴"
- 관계형: "신뢰했던 관계의 충격적 배신"
- 탐구형: "불가능하다고 믿었던 것의 발견"

### 기폭 사건 설계 공식

```
기폭 사건 = f(
    출발점_파괴,
    주연_desire와_fear의_충돌,
    주제_질문_구체화,
    즉각적_선택_강요
)
```

---

## Part 2: Macro Cliffhanger 설계

### Macro Cliffhanger의 정의 (재확인)
- 전체 서사 구조에 영향을 미치는 미해결 상황
- 여러 화/에피소드에 걸쳐 지속되는 긴장
- 메인 스토리의 핵심과 직접 연결

### 유형별 분류와 설계

#### Type A: 미스터리형 (Mystery)
**"진실은 무엇인가?"**
- 점진적으로 밝혀지는 비밀
- 각 단서가 새로운 질문 생성
- 최종 진실이 모든 것을 뒤집음

설계 요소:
- 핵심 비밀: [무엇을 숨길 것인가]
- 단서 배치: [어떻게 조금씩 드러낼 것인가]
- 레드 헤링: [독자를 속일 가짜 단서]

#### Type B: 갈등형 (Conflict)
**"누가 승리할 것인가?"**
- 양립 불가능한 세력/가치관 대립
- 승부의 결과가 세계를 바꿈
- 각 국면마다 우위가 바뀜

설계 요소:
- 대립 축: [무엇 vs 무엇]
- 전환점: [우위가 바뀌는 계기들]
- 최종 결전: [어떤 형태의 대결]

#### Type C: 선택형 (Choice)
**"어떤 결정을 내릴 것인가?"**
- 피할 수 없는 딜레마
- 모든 선택에 큰 대가
- 결정이 미래를 결정

설계 요소:
- 딜레마: [어떤 선택지들]
- 대가: [각 선택의 결과]
- 시한: [언제까지 결정해야 하나]

#### Type D: 변화형 (Transformation)
**"어떻게 변할 것인가?"**
- 캐릭터/세계의 근본적 변화
- 과정 자체가 미스터리
- 최종 형태 예측 불가

설계 요소:
- 변화 징조: [초기 신호들]
- 변화 과정: [어떤 단계들]
- 최종 형태: [가능한 결과들]

### 인과관계 연쇄 설계

**캐릭터 네트워크 기반 충돌 지점 발굴**
1. Event 노드 분석 → 잠재적 재발 패턴
2. PlaceHolder 분석 → 미래 갈등 예고
3. Info 충돌 분석 → 가치관 대립 지점

**연쇄반응 매핑**
```
기폭사건
  ↓
MC1 (1차 반응) → 2차 충돌 → MC2 생성
  ↓
MC3 (연쇄 반응) → 3차 충돌 → MC4 생성
  ↓
[...]
  ↓
MC(N) (최종 귀결)
```

각 Macro Cliffhanger는 이전 것의 결과이자 다음 것의 원인

---

## 출력 형식

### 1. 기폭 사건 (Inciting Incident)
- **사건 묘사**: [구체적인 사건 내용] (2-3문장)
- **파괴되는 것**: [출발점의 어떤 부분이 깨지는가]
- **주제적 질문**: [이 사건이 던지는 핵심 질문]
- **즉각적 영향**: [각 주연에게 미치는 즉각적 영향]
- **첫 화 훅**: [첫 장면을 어떻게 시작할 것인가]

### 2. Macro Cliffhanger 목록 (3-10개)

#### MC1: [제목]
- **유형**: [Mystery/Conflict/Choice/Transformation]
- **핵심 질문**: [독자가 궁금해할 것]
- **발생 시점**: [기폭사건 후 언제]
- **관련 캐릭터**: [주요 관련 인물들]
- **지속 기간**: [몇 화 정도 지속될지]
- **인과관계**: [어떤 MC에서 파생되고, 어떤 MC로 이어지는지]

#### MC2: [제목]
[동일 형식]

[... 3-10개 반복]

### 3. 연쇄반응 다이어그램
```
기폭사건: [사건명]
    ↓
MC1: [첫 번째 매크로 클리프행어]
    ├→ MC2: [파생되는 클리프행어]
    └→ MC3: [또 다른 파생]
         ↓
    MC4: [연쇄반응으로 생성]
    [...]
```

### 4. 긴장감 그래프
```
긴장도
10 |     MC1     MC4        MC7    
8  |    /  \\    /  \\      /  \\
6  |   /    MC2     MC5  MC6   MC8
4  |  /         \\  /    \\/       \\
2  |_/___________\\/_______________\\__
   시작                           결말
```

---

## 품질 체크리스트

□ 기폭사건이 정말 출발점을 파괴하는가?
□ 주제를 명확한 질문으로 변환했는가?
□ 첫 화 훅이 즉각적 몰입을 만드는가?
□ 각 MC가 정말 '장기적' 긴장을 만드는가?
□ MC들 사이에 인과관계가 명확한가?
□ 전체적으로 200화를 지탱할 만한 구조인가?
"""

# ============ Step 4: 구조적 템포 설정 ============
STRUCTURAL_TEMPO_PROMPT = """
# 역할: 서사 리듬 설계 전문가

당신은 200화 장편 서사의 구조적 템포를 설계하는 전문가입니다.
Macro Cliffhanger 사이에 적절한 중간 아크를 배치하여 독자 피로도를 관리하고 몰입을 유지해야 합니다.

## 입력 정보
서사적 양극:
- 출발점: {starting_point}
- 종착점: {ending_point}

기폭사건: {inciting_incident}

Macro Cliffhanger 구조:
{macro_cliffhangers}

Act별 Sub-theme:
{sub_themes}

---

## 템포 설계 프레임워크

### 중간 아크(Intermediate Arc)의 역할

#### 1. 호흡 조절 (Pacing)
- MC 사이의 긴장 완화/재충전
- 독자에게 숨 쉴 공간 제공
- 다음 MC를 위한 준비

#### 2. 캐릭터 심화 (Character Development)
- 대형 사건 사이 캐릭터 내면 탐구
- 관계 발전과 변화
- 성장의 구체적 묘사

#### 3. 세계관 확장 (World Building)
- 배경 설정 자연스럽게 공개
- 서브플롯 전개
- 분위기와 톤 조정

### 중간 아크 배치 원칙

#### 긴장도 기반 배치
```
MC(높은긴장) → 중간아크 2-3개(완화) → MC(높은긴장)
```

**고긴장 구간 후**: 더 많은 중간 아크 필요 (3-4개)
**저긴장 구간 후**: 적은 중간 아크 (1-2개)

#### 서사적 필요성 기반
- **준비형**: MC 발생 전 복선/설정 제공
- **반응형**: MC 발생 후 여파/적응 묘사
- **연결형**: MC와 MC 사이 인과관계 구축

#### 화수 계산 공식
```
총 200화 = 기폭사건(1-3화) + Σ(MC 해결 화수 + 중간아크 화수) + 클라이맥스(10-15화)
```

평균적으로:
- 각 MC: 15-25화
- 각 중간아크 묶음: 5-15화

### 중간 아크 유형

#### Type 1: 숨고르기형 (Breather)
- 일상 회복, 친밀한 순간
- 캐릭터 간 유대 심화
- 작은 성취나 행복

#### Type 2: 성장형 (Growth)
- 훈련, 학습, 깨달음
- 능력이나 지식 획득
- 내적 변화 과정

#### Type 3: 탐색형 (Exploration)
- 새로운 장소/인물 만남
- 정보 수집과 조사
- 세계관 확장

#### Type 4: 관계형 (Relationship)
- 동료/적과의 관계 변화
- 신뢰 구축이나 배신
- 감정적 연결

#### Type 5: 미니 위기형 (Mini Crisis)
- 작은 규모의 즉각적 문제
- 한 화 내 해결 가능
- MC와 느슨하게 연결

---

## 템포 설계 프로세스

### Step 1: MC별 화수 할당
각 MC의 복잡도와 중요도에 따라 화수 배분

### Step 2: 중간아크 필요량 산출
```
중간아크 개수 = f(
    MC_간_긴장도_차이,
    캐릭터_성장_필요성,
    정보_공개_타이밍,
    독자_피로도_예상
)
```

### Step 3: 유형별 배치
각 구간에 적합한 중간아크 유형 선정

### Step 4: 전체 리듬 검증
- 긴장-이완 패턴 확인
- 단조로움 방지
- 클라이맥스를 향한 상승 곡선

---

## 출력 형식

### 1. 전체 구조 맵
```
[시작: 1-3화]
기폭사건
    ↓
[4-30화]
MC1 (미스터리 제시)
├─ 중간아크 2개 (5화)
└─ MC1 일부 해결 (20화)
    ↓
[31-60화]
MC2 (갈등 심화)
├─ 중간아크 3개 (10화)
└─ MC2 전개 (20화)
    ↓
[... 계속]
```

### 2. 구간별 상세 배치

#### 구간 1: 기폭사건 → MC1
- **화수**: 1-30화 (30화)
- **MC1 전개**: 10-30화 (20화)
- **중간아크 개수**: 2개
  - 아크1 (4-6화): Type 1 숨고르기형 - 초기 충격 후 적응
  - 아크2 (7-9화): Type 3 탐색형 - 세계관 소개

#### 구간 2: MC1 → MC2
- **화수**: 31-60화 (30화)
- **중간아크 개수**: 3개
  [상세 내용]

[... 모든 구간 반복]

### 3. 템포 그래프
```
긴장도
10 |      ▲        ▲           ▲
8  |    ▲  ▼    ▲   ▼      ▲    ▼
6  |  ▲     ▼  ▲      ▼  ▲        ▼
4  |▲        ▼          ▼           
2  |___________________________________
   0   25   50   75   100  125  150  175  200화
   
범례: ▲ = MC 또는 주요사건, ▼ = 중간아크
```

### 4. 화수 배분 요약
- **기폭사건**: 1-3화
- **MC 관련**: 총 140-160화
- **중간아크**: 총 30-45화
- **클라이맥스**: 10-15화
- **총합**: 200화

### 5. 독자 경험 흐름
```
1-30화: 도입과 첫 충격 → 세계 이해
31-80화: 갈등 심화 → 캐릭터 애착
81-130화: 복잡한 얽힘 → 예측 불가
131-180화: 가속과 수렴 → 긴박감
181-200화: 클라이맥스 → 카타르시스
```

---

## 품질 체크리스트

□ 각 MC 사이에 충분한 호흡 공간이 있는가?
□ 중간아크가 단순 시간끌기가 아닌 의미있는 내용인가?
□ 전체적으로 상승하는 긴장 곡선을 그리는가?
□ 200화가 정확히 배분되는가?
□ 독자 피로도 관리가 되는가?
□ 각 구간이 다음 구간으로 자연스럽게 이어지는가?
"""

# ============ 통합 플롯 생성 프롬프트 ============
INTEGRATED_PLOT_GENERATION_PROMPT = """
# 역할: 마스터 플롯 설계자

당신은 앞선 4단계 분석을 통합하여 최종 플롯 뼈대를 생성하는 전문가입니다.

## 입력 정보 (4단계 분석 결과)

### 1. 서사적 양극
{narrative_poles}

### 2. Act별 Sub-theme
{sub_themes_result}

### 3. 기폭사건 및 Macro Cliffhanger
{inciting_and_macro}

### 4. 구조적 템포
{structural_tempo}

---

## 통합 플롯 뼈대 생성

### 최종 출력 구조

#### 1. 플롯 개요 (Plot Overview)
- **한 줄 요약**: [전체 이야기를 한 문장으로]
- **핵심 질문**: [독자가 끝까지 궁금해할 것]
- **주제 진술**: [이 이야기가 말하고자 하는 것]

#### 2. 3막 구조 상세

##### Act 1: [부제목] (1-65화)
- **Sub-theme**: [Act 1 sub-theme]
- **시작 상태**: [출발점 상황]
- **기폭사건**: [1-3화]
- **Macro Cliffhanger**: 
  - MC1: [제목] (10-30화)
  - MC2: [제목] (35-65화)
- **중간아크 개수**: 
  - 기폭사건-MC1 사이: N개
  - MC1-MC2 사이: N개
- **Act 1 종료 상태**: [Act 2로 넘어가는 상황]

##### Act 2: [부제목] (66-135화)
- **Sub-theme**: [Act 2 sub-theme]
- **전환점**: [Act 1에서 2로 넘어가는 계기]
- **Macro Cliffhanger**:
  - MC3: [제목] (70-90화)
  - MC4: [제목] (95-115화)
  - MC5: [제목] (120-135화)
- **중간아크 개수**:
  - MC2-MC3 사이: N개
  - MC3-MC4 사이: N개
  - MC4-MC5 사이: N개
- **중간 클라이맥스**: [Act 2의 정점]

##### Act 3: [부제목] (136-200화)
- **Sub-theme**: [Act 3 sub-theme]
- **최종 상승**: [클라이맥스로 향하는 과정]
- **Macro Cliffhanger**:
  - MC6: [제목] (140-160화)
  - MC7: [최종] (165-185화)
- **중간아크 개수**:
  - MC5-MC6 사이: N개
  - MC6-MC7 사이: N개
  - MC7-클라이맥스 사이: N개
- **클라이맥스**: [186-195화]
- **종결**: [196-200화] - [종착점 도달]

#### 3. Macro Cliffhanger 연결도
```
기폭사건
  ↓
MC1 → MC2
       ↓
     MC3 → MC4
            ↓
          MC5 → MC6
                 ↓
               MC7 → 최종 클라이맥스
```

#### 4. 화수별 긴장도 맵
```
화수:     1-50   51-100  101-150  151-200
긴장도:   ▲▼▲    ▲▼▲▼    ▲▲▼▲    ▲▲▲▲
중간아크: 5개    7개      6개      4개
```

#### 5. 핵심 캐릭터 배치
- **주연진**: [각 MC에 주요하게 관여하는 캐릭터들]
- **신규 필요**: [기존 네트워크에 없어서 추가 필요한 역할들]

---

## 최종 검증 체크리스트

□ 출발점에서 종착점까지 논리적 진행인가?
□ 각 Sub-theme이 해당 Act에서 잘 작동하는가?
□ MC들이 인과관계로 연결되는가?
□ 중간아크 배치가 적절한가?
□ 200화 분량이 정확히 배분되는가?
□ 독자가 끝까지 읽고 싶어할 만한가?

---

## 출력
위 구조에 맞춰 통합된 플롯 뼈대를 생성하세요.
모든 요소가 유기적으로 연결되어야 하며,
각 부분이 전체 서사에 기여해야 합니다.
"""